{"version":3,"file":"static/js/168.b96a7db7.chunk.js","mappings":"8PACA,EAA6B,4B,SCyD7B,EAtDgB,WAAO,IAAD,IACZA,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACR,GAAKT,EAAL,CAGAQ,GAAW,GACX,IAAME,EAAY,mCAAG,8GAEMC,EAAAA,EAAAA,IAAgBX,GAFtB,UAGO,KADlBY,EAFW,QAGJC,OAHI,uBAIfL,GAAW,GAJI,0BAOjBJ,EAAWQ,GAPM,kDASjBN,EAAS,EAAD,IATS,0DAAH,qDAYlBI,GAdC,CAeF,GAAE,CAACV,IAEJ,IAAMc,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,0BAAoCnB,IAE/D,OACE,iCACE,SAAC,KAAD,CAASoB,GAAIJ,EAAaK,QAA1B,UACE,mBAAQC,UAAWC,EAAnB,SAAmC,0BAEpClB,IACC,uBAAG,qEAGJE,IAAW,uBAAG,sCAEdJ,IACC,wBACGA,EAAQqB,KAAI,gBAAGxB,EAAH,EAAGA,GAAIyB,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACX,2BACE,uBAAID,KACJ,uBAAIC,MAFG1B,EADE,QAUtB,C,+LCtDD2B,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIOC,EAAW,mCAAG,oGACFN,EAAAA,EAAAA,IAAU,oBAAqBC,GAD7B,cACnBM,EADmB,yBAGlBA,EAASC,KAAKC,SAHI,2CAAH,qDAMXC,EAAe,mCAAG,WAAMC,GAAN,uFACNX,EAAAA,EAAAA,IAAA,6BAAgCW,GAASV,GADnC,cACvBM,EADuB,yBAGtBA,EAASC,KAAKC,SAHQ,2CAAH,sDAMfG,EAAe,mCAAG,WAAMvC,GAAN,uFACN2B,EAAAA,EAAAA,IAAA,gBAAmB3B,EAAnB,KAA0B4B,GADpB,cACvBM,EADuB,OAE9BM,QAAQC,IAAIP,EAASC,MAFS,kBAGtBD,EAASC,MAHa,2CAAH,sDAMfO,EAAY,mCAAG,WAAM1C,GAAN,uFACH2B,EAAAA,EAAAA,IAAA,gBAAmB3B,EAAnB,aAAkC4B,GAD/B,cACpBM,EADoB,yBAGnBA,EAASC,KAAKQ,MAHK,2CAAH,sDAMZhC,EAAe,mCAAG,WAAMX,GAAN,uFACN2B,EAAAA,EAAAA,IAAA,gBAAmB3B,EAAnB,aAAkC4B,GAD5B,cACvBM,EADuB,yBAGtBA,EAASC,KAAKC,SAHQ,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/services.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewsBtn\":\"Reviews_reviewsBtn__FVlPP\"};","import { getMovieReviews } from '../../services/services';\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, NavLink, useLocation } from 'react-router-dom';\nimport css from './Reviews.module.css';\nconst Reviews = () => {\n  const { id } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n    setIsEmpty(false);\n    const fetchReviews = async () => {\n      try {\n        const feedback = await getMovieReviews(id);\n        if (feedback.length === 0) {\n          setIsEmpty(true);\n          return;\n        }\n        setReviews(feedback);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    fetchReviews();\n  }, [id]);\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? `/movies/${id}`);\n\n  return (\n    <>\n      <NavLink to={backLinkHref.current}>\n        <button className={css.reviewsBtn}>ðŸ‘†roll up</button>\n      </NavLink>\n      {error && (\n        <b>Sorry, there are some problems. Try to come back a little later.</b>\n      )}\n\n      {isEmpty && <b>There are no reviews at this time</b>}\n\n      {reviews && (\n        <ul>\n          {reviews.map(({ id, author, content }) => (\n            <li key={id}>\n              <b>{author}</b>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYjMyMzYxY2E2ZmViZTQzOGE5OGM3YmQyODU3MDk3MyIsInN1YiI6IjY0OTljZGYyYjM0NDA5MDEzOTg1NmI4NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.noujh3925jamJn7mF9RpSygXqaaI6zmGD6p385AGBAw',\n  },\n};\n\nexport const getTrending = async () => {\n  const response = await axios.get('trending/all/day?', options);\n  // console.log(response.data.results);\n  return response.data.results;\n};\n\nexport const getSearchMovies = async query => {\n  const response = await axios.get(`search/movie?query=${query}`, options);\n// console.log(response.data.results);\n  return response.data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(`movie/${id}?`, options);\n console.log(response.data);\n  return response.data;\n};\n\nexport const getMovieCast = async id => {\n  const response = await axios.get(`movie/${id}/credits?`, options);\n  // console.log(response.data.cast);\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async id => {\n  const response = await axios.get(`movie/${id}/reviews?`, options);\n  // console.log(response?.data?.results);\n  return response.data.results;\n};\n"],"names":["id","useParams","useState","reviews","setReviews","error","setError","isEmpty","setIsEmpty","useEffect","fetchReviews","getMovieReviews","feedback","length","location","useLocation","backLinkHref","useRef","state","from","to","current","className","css","map","author","content","axios","options","method","headers","accept","Authorization","getTrending","response","data","results","getSearchMovies","query","getMovieDetails","console","log","getMovieCast","cast"],"sourceRoot":""}