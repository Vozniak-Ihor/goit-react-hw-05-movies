{"version":3,"file":"static/js/168.d7eab337.chunk.js","mappings":"uQACA,EAA6B,4B,SCyD7B,EAtDgB,WAAO,IAAD,IACZA,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACR,GAAKT,EAAL,CAGAQ,GAAW,GACX,IAAME,EAAY,mCAAG,8GAEMC,EAAAA,EAAAA,IAAoBX,EAAG,WAF7B,UAGe,KAD1BY,EAFW,QAGJC,QAAQC,OAHJ,uBAIfN,GAAW,GAJI,0BAOjBJ,EAAWQ,EAASC,SAPH,kDASjBP,EAAS,EAAD,IATS,0DAAH,qDAYlBI,GAdC,CAeF,GAAE,CAACV,IAEJ,IAAMe,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,0BAAoCpB,IAE/D,OACE,iCACE,SAAC,KAAD,CAASqB,GAAIJ,EAAaK,QAA1B,UACE,mBAAQC,UAAWC,EAAnB,SAAmC,0BAEpCnB,IACC,uBAAG,qEAGJE,IAAW,uBAAG,sCAEdJ,IACC,wBACGA,EAAQsB,KAAI,gBAAGzB,EAAH,EAAGA,GAAI0B,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACX,2BACE,uBAAID,KACJ,uBAAIC,MAFG3B,EADE,QAUtB,C,2KCtDD4B,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIOC,EAAW,mCAAG,oGACFN,EAAAA,EAAAA,IAAU,oBAAqBC,GAD7B,cACnBM,EADmB,yBAGlBA,EAASC,KAAKvB,SAHI,2CAAH,qDAMXwB,EAAe,mCAAG,WAAMC,GAAN,uFACNV,EAAAA,EAAAA,IAAA,6BAAgCU,GAAST,GADnC,cACvBM,EADuB,yBAGtBA,EAASC,KAAKvB,SAHQ,2CAAH,sDAMf0B,EAAe,mCAAG,WAAMvC,GAAN,uFACN4B,EAAAA,EAAAA,IAAA,gBAAmB5B,EAAnB,KAA0B6B,GADpB,cACvBM,EADuB,OAE9BK,QAAQC,IAAIN,EAASC,MAFS,kBAGtBD,EAASC,MAHa,2CAAH,sDAMfzB,EAAmB,mCAAG,WAAOX,EAAG0C,GAAV,uFACVd,EAAAA,EAAAA,IAAA,gBAAmB5B,EAAnB,YAAyB0C,EAAzB,KAAmCb,GADzB,cAC3BM,EAD2B,yBAG1BA,EAASC,MAHiB,2CAAH,uD","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/services.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewsBtn\":\"Reviews_reviewsBtn__FVlPP\"};","import { getMovieCastReviews } from '../../services/services';\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, NavLink, useLocation } from 'react-router-dom';\nimport css from './Reviews.module.css';\nconst Reviews = () => {\n  const { id } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n    setIsEmpty(false);\n    const fetchReviews = async () => {\n      try {\n        const feedback = await getMovieCastReviews(id,'reviews');\n        if (feedback.results.length === 0) {\n          setIsEmpty(true);\n          return;\n        }\n        setReviews(feedback.results);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    fetchReviews();\n  }, [id]);\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? `/movies/${id}`);\n\n  return (\n    <>\n      <NavLink to={backLinkHref.current}>\n        <button className={css.reviewsBtn}>ðŸ‘†roll up</button>\n      </NavLink>\n      {error && (\n        <b>Sorry, there are some problems. Try to come back a little later.</b>\n      )}\n\n      {isEmpty && <b>There are no reviews at this time</b>}\n\n      {reviews && (\n        <ul>\n          {reviews.map(({ id, author, content }) => (\n            <li key={id}>\n              <b>{author}</b>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYjMyMzYxY2E2ZmViZTQzOGE5OGM3YmQyODU3MDk3MyIsInN1YiI6IjY0OTljZGYyYjM0NDA5MDEzOTg1NmI4NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.noujh3925jamJn7mF9RpSygXqaaI6zmGD6p385AGBAw',\n  },\n};\n\nexport const getTrending = async () => {\n  const response = await axios.get('trending/all/day?', options);\n  // console.log(response.data.results);\n  return response.data.results;\n};\n\nexport const getSearchMovies = async query => {\n  const response = await axios.get(`search/movie?query=${query}`, options);\n// console.log(response.data.results);\n  return response.data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(`movie/${id}?`, options);\n console.log(response.data);\n  return response.data;\n};\n\nexport const getMovieCastReviews = async (id,param) => {\n  const response = await axios.get(`movie/${id}/${param}?`, options);\n  // console.log(response.data.cast);\n  return response.data;\n};\n"],"names":["id","useParams","useState","reviews","setReviews","error","setError","isEmpty","setIsEmpty","useEffect","fetchReviews","getMovieCastReviews","feedback","results","length","location","useLocation","backLinkHref","useRef","state","from","to","current","className","css","map","author","content","axios","options","method","headers","accept","Authorization","getTrending","response","data","getSearchMovies","query","getMovieDetails","console","log","param"],"sourceRoot":""}